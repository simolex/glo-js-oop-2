(()=>{"use strict";class t{constructor({nameEquip:t,brandEquip:e,modelEquip:i,numberEquip:o,dateEquip:n,unitType:s,unitTypeName:d}){this.nameEquip=t,this.brandEquip=e,this.modelEquip=i,this.numberEquip=o,this.dateEquip=n,this.unitType=s,this.unitTypeName=d}}class e extends t{constructor({nameEquip:t,brandEquip:e,modelEquip:i,numberEquip:o,dateEquip:n,unitType:s,unitTypeName:d,pcMemory:l,pcCpu:u,pcHdd:r}){super({nameEquip:t,brandEquip:e,modelEquip:i,numberEquip:o,dateEquip:n,unitType:s,unitTypeName:d}),this.pcMemory=l,this.pcCpu=u,this.pcHdd=r}}class i extends t{constructor(t,e,i,o,n,s,d,l,u){super({nameEquip:t,brandEquip:e,modelEquip:i,numberEquip:o,dateEquip:n,unitType:s,unitTypeName:d}),this.monitorSize=l,this.monitorResolution=u}}class o extends t{constructor({nameEquip:t,brandEquip:e,modelEquip:i,numberEquip:o,dateEquip:n,unitType:s,unitTypeName:d,printTechnology:l,mediaSize:u,printColor:r}){super({nameEquip:t,brandEquip:e,modelEquip:i,numberEquip:o,dateEquip:n,unitType:s,unitTypeName:d}),this.printTechnology=l,this.mediaSize=u,this.printColor=r}}const n={"type-computer":class{constructor(){this.pcMemory=document.getElementById("pc-memory"),this.pcCpu=document.getElementById("pc-cpu"),this.pcHdd=document.getElementById("pc-hdd")}show(){this.pcMemory.closest(".modal__control").style.display="",this.pcCpu.closest(".modal__control").style.display="",this.pcHdd.closest(".modal__control").style.display=""}hide(){this.pcMemory.closest(".modal__control").style.display="none",this.pcCpu.closest(".modal__control").style.display="none",this.pcHdd.closest(".modal__control").style.display="none"}getObject(t){return new e({...t,pcMemory:this.pcMemory.value,pcCpu:this.pcCpu.value,pcHdd:this.pcHdd.value})}},"type-monitor":class{constructor(){this.monitorSize=document.getElementById("monitor-size"),this.monitorResolution=document.getElementById("monitor-resolution")}show(){this.monitorSize.closest(".modal__control").style.display="",this.monitorResolution.closest(".modal__control").style.display=""}hide(){this.monitorSize.closest(".modal__control").style.display="none",this.monitorResolution.closest(".modal__control").style.display="none"}getObject(t){return new i({...t,monitorSize:this.monitorSize.value,monitorResolution:this.monitorResolution.value})}},"type-printer":class{constructor(){this.printTech=document.getElementById("print-tech"),this.printMedia=document.getElementById("print-media"),this.printColor=document.getElementById("print-color")}show(){this.printTech.closest(".modal__control").style.display="",this.printMedia.closest(".modal__control").style.display="",this.printColor.closest(".modal__control").style.display=""}hide(){this.printTech.closest(".modal__control").style.display="none",this.printMedia.closest(".modal__control").style.display="none",this.printColor.closest(".modal__control").style.display="none"}getObject(t){return new o({...t,printTechnology:this.printTech.value,mediaSize:this.printMedia.value,printColor:this.printColor.checked})}}};class s{constructor(){this.nameEquip=document.getElementById("unit-name"),this.brandEquip=document.getElementById("unit-brand"),this.modelEquip=document.getElementById("unit-model"),this.numberEquip=document.getElementById("unit-number"),this.dateEquip=document.getElementById("unit-date"),this.unitType=document.getElementById("unit-type"),this._secondForms={},this._formControl=document.getElementById("equipment-form"),this._showSecondForm(this.unitType.value),this.unitType.addEventListener("change",(t=>{t.target.value&&this._showSecondForm(t.target.value)}))}_showSecondForm(t){for(let t in this._secondForms)this._secondForms[t].hide();this._secondForms[t]||(this._secondForms[t]=new n[t]),this._secondForms[t].show()}init(t){this._formControl.addEventListener("submit",(e=>{e.preventDefault(),console.log(this.getObject()),t.hide()}))}getObject(){return this._secondForms[this.unitType.value].getObject({nameEquip:this.nameEquip.value,brandEquip:this.brandEquip.value,modelEquip:this.modelEquip.value,numberEquip:this.numberEquip.value,dateEquip:this.dateEquip.value,unitType:this.unitType.value,unitTypeName:this.unitType.options[this.unitType.selectedIndex].text+""})}}class d{constructor(){this.content=document.getElementById("modal-form"),this.buttonClose=this.content.querySelector(".modal-close"),this.form=new s,this.form.init(this),this.content.addEventListener("click",(t=>{!t.target.closest(".modal")&&t.target.classList.contains("overlay")&&this.hide()})),this.buttonClose.addEventListener("click",(()=>{this.hide()}))}show(){this.content.style.display="flex"}hide(){this.content.style.display=""}}(new class{constructor(){this.equipments={},this._nextId=1,this.addButton={}}get nextId(){return this._nextId++,this._nextId}set nextId(t){this._nextId=t}init(){this.nextId=1,this.addButton=document.getElementById("add-equipment"),this.addButton.addEventListener("click",(()=>{this.addEquipment()}))}_getModal(){return this.modal||(this.modal=new d),this.modal}addEquipment(){this._getModal().show()}}).init()})();